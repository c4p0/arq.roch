document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll("#navigation button"),c=document.querySelectorAll(".content-section"),l=document.getElementById("navigation"),o=document.getElementById("logo"),i=document.createElement("div");i.className="buttons-below-container",l.appendChild(i);let s=null,t=null;function a(){const e=document.querySelector(".content-section.active");e?(o.style.opacity="0",o.style.pointerEvents="none"):(o.style.opacity="1",o.style.pointerEvents="all")}navigationButtons.forEach(e=>{e.addEventListener("click",function(){const e=this.getAttribute("data-href");contentSections.forEach(t=>{t.id===e?t.classList.toggle("active"):t.classList.remove("active")})}),document.addEventListener("click",function(e){!e.target.closest(".content-section")&&!e.target.closest("#navigation button")&&(contentSections.forEach(e=>{e.classList.remove("active")}),a())}),a()});function r(t){if(t===e.length-1)return 0;const n=window.innerHeight,s=e[e.length-1],o=s.getBoundingClientRect(),i=n-40-o.bottom;return Math.max(0,i)}function d(n){t&&t.kill(),c.forEach(e=>e.classList.remove("active")),e.forEach(e=>e.classList.remove("active"));const i=[...e].find(e=>e.dataset.href===n);if(!i)return;const a=[...e].indexOf(i);i.classList.add("active"),s=n;const o=document.getElementById(n);if(!o)return;const l=i.getBoundingClientRect();o.style.top=`${l.bottom}px`,o.style.left=`${l.left}px`;const d=r(a);if(t=gsap.timeline(),a<e.length-1){const n=Array.from(e).slice(a+1);t.to(n,{y:d,duration:.4,ease:"none"},0)}t.fromTo(o,{opacity:0},{opacity:1,duration:.3,ease:"none"},.1),o.classList.add("active")}function u(){t&&t.kill(),t=gsap.timeline(),t.to(e,{y:0,duration:.4,ease:"none"},0),c.forEach(e=>{t.to(e,{opacity:0,duration:.2,onComplete:()=>e.classList.remove("active")},0)}),e.forEach(e=>e.classList.remove("active")),s=null}e.forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.href;s===t?u():d(t)})});const h=document.querySelectorAll(".project"),n=document.getElementById("project_preview");h.forEach(e=>{e.addEventListener("mouseenter",function(){window.innerWidth>768&&(n.querySelector(".client").textContent=this.dataset.client||"",n.querySelector(".categories").textContent=this.dataset.cats||"",n.querySelector(".tags").textContent=this.dataset.tags||"",n.querySelector(".status").textContent=this.dataset.status||"",n.querySelector(".first-img").src=this.dataset.firstimg||"",n.style.display="block")}),e.addEventListener("mouseleave",function(){window.innerWidth>768&&(n.style.display="none")})}),window.addEventListener("resize",()=>{if(s){const t=[...e].find(e=>e.dataset.href===s);if(t){const n=[...e].indexOf(t),o=document.getElementById(s);if(o){const s=t.getBoundingClientRect();o.style.top=`${s.bottom}px`,o.style.left=`${s.left}px`;const i=r(n);if(n<e.length-1){const t=Array.from(e).slice(n+1);gsap.set(t,{y:i})}}}}})})