document.addEventListener("DOMContentLoaded",function(){const t=document.querySelectorAll("#navigation button"),l=document.querySelectorAll(".content-section"),d=document.getElementById("navigation"),o=document.getElementById("logo"),i=document.createElement("div");i.className="buttons-below-container",d.appendChild(i);let n=null,e=null;function a(e){if(e===t.length-1)return 0;const n=window.innerHeight,s=t[t.length-1],o=s.getBoundingClientRect(),i=n-40-o.bottom;return Math.max(0,i)}function r(t){e&&e.kill(),e=gsap.timeline(),t?e.to(o,{opacity:1,duration:.3,ease:"none",onStart:()=>{o.style.pointerEvents="all"}}):e.to(o,{opacity:0,duration:.2,ease:"none",onComplete:()=>{o.style.pointerEvents="none"}})}function u(s){e&&e.kill(),l.forEach(e=>e.classList.remove("active")),t.forEach(e=>e.classList.remove("active"));const i=[...t].find(e=>e.dataset.href===s);if(!i)return;const c=[...t].indexOf(i);i.classList.add("active"),n=s;const o=document.getElementById(s);if(!o)return;const d=i.getBoundingClientRect();o.style.top=`${d.bottom}px`,o.style.left=`${d.left}px`;const u=a(c);if(e=gsap.timeline(),r(!1),c<t.length-1){const n=Array.from(t).slice(c+1);e.to(n,{y:u,duration:.4,ease:"none"},0)}e.fromTo(o,{opacity:0},{opacity:1,duration:.3,ease:"none"},.1),o.classList.add("active")}function c(){e&&e.kill(),e=gsap.timeline(),r(!0),e.to(t,{y:0,duration:.4,ease:"none"},0),l.forEach(t=>{e.to(t,{opacity:0,duration:.2,onComplete:()=>t.classList.remove("active")},0)}),t.forEach(e=>e.classList.remove("active")),n=null}t.forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.href;n===t?c():u(t)})}),document.addEventListener("click",e=>{!e.target.closest(".content-section")&&!e.target.closest("#navigation button")&&n&&c()});const h=document.querySelectorAll(".project"),s=document.getElementById("project_preview");h.forEach(e=>{e.addEventListener("mouseenter",function(){window.innerWidth>768&&(s.querySelector(".client").textContent=this.dataset.client||"",s.querySelector(".categories").textContent=this.dataset.cats||"",s.querySelector(".tags").textContent=this.dataset.tags||"",s.querySelector(".status").textContent=this.dataset.status||"",s.querySelector(".first-img").src=this.dataset.firstimg||"",s.style.display="block")}),e.addEventListener("mouseleave",function(){window.innerWidth>768&&(s.style.display="none")})}),window.addEventListener("resize",()=>{if(n){const e=[...t].find(e=>e.dataset.href===n);if(e){const s=[...t].indexOf(e),o=document.getElementById(n);if(o){const n=e.getBoundingClientRect();o.style.top=`${n.bottom}px`,o.style.left=`${n.left}px`;const i=a(s);if(s<t.length-1){const e=Array.from(t).slice(s+1);gsap.set(e,{y:i})}}}}})})