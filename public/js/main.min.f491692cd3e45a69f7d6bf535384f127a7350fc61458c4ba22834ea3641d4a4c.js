document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll("#navigation button"),o=document.querySelectorAll(".content-section"),l=document.getElementById("navigation");let s=null,t=null;function i(t){if(t===e.length-1)return 0;const n=window.innerHeight,s=e[e.length-1],o=s.getBoundingClientRect(),i=n-40-o.bottom;return Math.max(0,i)}function a(n){t&&t.kill(),o.forEach(e=>e.classList.remove("active")),e.forEach(e=>e.classList.remove("active"));const r=[...e].find(e=>e.dataset.href===n);if(!r)return;const c=[...e].indexOf(r);r.classList.add("active"),s=n;const a=document.getElementById(n);if(!a)return;t=gsap.timeline({defaults:{duration:.8,ease:"power3.out"}});const l=r.getBoundingClientRect();a.style.top=`${l.bottom}px`,a.style.left=`${l.left}px`;const d=i(c);if(c<e.length-1){const n=Array.from(e).slice(c+1);t.to(n,{y:d,stagger:.05},0)}t.fromTo(a,{opacity:0,y:10},{opacity:1,y:0,duration:.6,ease:"power2.out"},.2),a.classList.add("active")}function r(){t&&t.kill(),t=gsap.timeline({defaults:{duration:.8,ease:"power3.out"}}),t.to(e,{y:0,stagger:.05},0),o.forEach(e=>{t.to(e,{opacity:0,y:10,duration:.4,onComplete:()=>e.classList.remove("active")},0)}),e.forEach(e=>e.classList.remove("active")),s=null}e.forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.href;s===t?r():a(t)})});const c=document.querySelectorAll(".project"),n=document.getElementById("project_preview");c.forEach(e=>{e.addEventListener("mouseenter",function(){window.innerWidth>768&&(n.querySelector(".client").textContent=this.dataset.client||"",n.querySelector(".categories").textContent=this.dataset.cats||"",n.querySelector(".tags").textContent=this.dataset.tags||"",n.querySelector(".status").textContent=this.dataset.status||"",n.querySelector(".first-img").src=this.dataset.firstimg||"",n.style.display="block")}),e.addEventListener("mouseleave",function(){window.innerWidth>768&&(n.style.display="none")})}),window.addEventListener("resize",()=>{if(s){const t=[...e].find(e=>e.dataset.href===s);if(t){const n=[...e].indexOf(t),o=document.getElementById(s);if(o){const s=t.getBoundingClientRect();o.style.top=`${s.bottom}px`,o.style.left=`${s.left}px`;const a=i(n);if(n<e.length-1){const t=Array.from(e).slice(n+1);gsap.set(t,{y:a})}}}}})})